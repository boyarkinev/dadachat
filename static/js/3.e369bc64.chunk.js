(this["webpackJsonpreact-learning"]=this["webpackJsonpreact-learning"]||[]).push([[3],{291:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var r=a(53),n=a(54),s=a(56),o=a(55),c=a(0),i=a.n(c),l=a(10),u=a(16),m=function(e){return{isAuth:e.auth.isAuth}},p=function(e){var t=function(t){Object(s.a)(c,t);var a=Object(o.a)(c);function c(){return Object(r.a)(this,c),a.apply(this,arguments)}return Object(n.a)(c,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(l.a,{to:"./login"})}}]),c}(i.a.Component);return Object(u.b)(m)(t)}},292:function(e,t,a){e.exports=a.p+"static/media/userpic.e9fbda13.svg"},294:function(e,t,a){e.exports={user:"ProfileInfo_user__2OeU5",user_pic:"ProfileInfo_user_pic__3GLQa",user_data:"ProfileInfo_user_data__1SB4C",user_name:"ProfileInfo_user_name__1OkMX",user_status:"ProfileInfo_user_status__25Ek7",user_info:"ProfileInfo_user_info__1w3hO",preloaderContainer:"ProfileInfo_preloaderContainer__VMQ6B",fileUpload:"ProfileInfo_fileUpload__2Ummu"}},296:function(e,t,a){e.exports={content:"Profile_content__2wLDD"}},297:function(e,t,a){e.exports={posts:"MyPosts_posts__3tZ1c"}},298:function(e,t,a){e.exports={post:"Post_post__A0EJd",avatar:"Post_avatar__1wBwP",message:"Post_message__3raFK",likes:"Post_likes__2o7Hq",like:"Post_like__oViQh",active:"Post_active__1HCRI",counter:"Post_counter__14HCt"}},299:function(e,t,a){e.exports={cover:"ProfileHeader_cover__1Z9rw",pic:"ProfileHeader_pic__rIJFQ",picabsolute:"ProfileHeader_picabsolute__2FRt7"}},300:function(e,t,a){e.exports=a.p+"static/media/cover_pic_elem_1.cc571328.svg"},301:function(e,t,a){e.exports=a.p+"static/media/cover_pic_elem_2.58541e94.svg"},302:function(e,t,a){e.exports=a.p+"static/media/cover_pic_elem_3.0c2b72f2.svg"},313:function(e,t,a){"use strict";a.r(t);var r=a(53),n=a(54),s=a(56),o=a(55),c=a(0),i=a.n(c),l=a(9),u=a(10),m=a(16),p=a(296),f=a.n(p),d=a(293),_=a(294),v=a.n(_),E=a(25),b=a.n(E),h=a(310),P=a(95),g=a(292),O=a.n(g),N=function(e){var t=Object(c.useState)(!1),a=Object(d.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)(e.status),o=Object(d.a)(s,2),l=o[0],u=o[1];Object(c.useEffect)((function(){u(e.status)}),[e.status]);return i.a.createElement(i.a.Fragment,null,!r&&i.a.createElement("span",{onDoubleClick:function(){n(!0)}},e.status||"----------"),r&&i.a.createElement("input",{onBlur:function(){n(!1),e.updateStatus(l)},onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,value:l}))},j=a(129),k=a(46),S=a.n(k),w=a(26),I=Object(j.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,a=e.profile,r=e.error;return i.a.createElement("form",{onSubmit:t},i.a.createElement("button",{className:b.a.submitButton},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r&&i.a.createElement("div",{className:S.a.formSummaryError},r),i.a.createElement("div",{className:v.a.user_info},"\u0418\u043c\u044f: ",Object(w.c)("\u0418\u043c\u044f","fullName",[],w.a)),i.a.createElement("div",{className:v.a.user_info},"\u0412 \u043f\u043e\u0438\u0441\u043a\u0430\u0445 \u0440\u0430\u0431\u043e\u0442\u044b:"," ",Object(w.c)("","lookingForAJob",[],w.a,null,{type:"checkbox"})),i.a.createElement("div",{className:v.a.user_info},"\u041c\u043e\u0439 \u0441\u0442\u0435\u043a:"," ",Object(w.c)("\u041c\u043e\u0439 \u0441\u0442\u0435\u043a","lookingForAJobDescription",[],w.b)),i.a.createElement("div",{className:v.a.user_info},"\u041e\u0431\u043e \u043c\u043d\u0435: ",Object(w.c)("\u041e\u0431\u043e \u043c\u043d\u0435","aboutMe",[],w.b)),i.a.createElement("div",{className:v.a.user_info},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"," ",Object.keys(a.contacts).map((function(e){return i.a.createElement("div",{key:e},e,": ",Object(w.c)(e,"contacts."+e,[],w.a))}))))})),C=function(e){e.profile;var t=e.isOwner,a=e.goToEditMode;return i.a.createElement("div",null,t&&i.a.createElement("button",{onClick:a,className:b.a.submitButton},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"))},x=function(e){var t=e.profile,a=e.status,r=e.updateStatus,n=e.isOwner,s=e.savePhoto,o=e.saveProfile,l=Object(c.useState)(!1),u=Object(d.a)(l,2),m=u[0],p=u[1];if(!t)return i.a.createElement("div",{className:v.a.preloaderContainer},i.a.createElement(P.a,null));return i.a.createElement("div",null,i.a.createElement("div",{className:v.a.user},i.a.createElement("div",{className:v.a.user_pic},i.a.createElement("div",null,n&&i.a.createElement("div",{className:v.a.fileUpload,"data-tip":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e"},i.a.createElement("label",null,i.a.createElement("input",{type:"file",id:"uploadFile",onChange:function(e){e.target.files.length&&s(e.target.files[0])}}),i.a.createElement("span",{tabIndex:"0"}))),i.a.createElement("div",{className:v.a.uploadFileClip})),i.a.createElement("img",{src:t.photos.large||O.a,alt:"Avatar"})),i.a.createElement("div",{className:v.a.user_data},i.a.createElement("h2",{className:b.a.pageTitle},t.fullName),i.a.createElement("p",{className:v.a.user_status,"data-tip":"\u0414\u0432\u043e\u0439\u043d\u043e\u0439 \u0449\u0435\u043b\u0447\u043e\u043a \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"},i.a.createElement(N,{status:a,updateStatus:r})),m?i.a.createElement(I,{initialValues:t,profile:t,onSubmit:function(e){o(e).then((function(){p(!1)}))}}):i.a.createElement(C,{goToEditMode:function(){return p(!0)},profile:t,isOwner:n})),i.a.createElement(h.a,null)))},y=a(96),A=a(297),F=a.n(A),U=a(86),D=a(298),T=a.n(D),B=function(e){return i.a.createElement("div",{className:T.a.post},i.a.createElement("img",{src:O.a,className:T.a.avatar,alt:"Guest Avatar"}),i.a.createElement("p",{className:T.a.message},e.message),i.a.createElement("div",{className:T.a.likes},i.a.createElement("div",{className:"".concat(T.a.like," ").concat(T.a.active)}),i.a.createElement("p",{className:T.a.counter},e.counter)))},M=a(66),H=Object(M.a)(120),J=i.a.memo((function(e){var t=e.postsData.map((function(e,t){return i.a.createElement(B,{message:e.message,counter:e.likesCounter,key:t})}));return i.a.createElement("div",{className:F.a.posts},i.a.createElement("h2",{className:b.a.pageTitle},"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"),i.a.createElement(Q,{onSubmit:function(t){e.addPost(t.newPostText)},className:b.a.form}),t)})),Q=Object(j.a)({form:"ProfileAddNewPostForm"})((function(e){return i.a.createElement("form",{onSubmit:e.handleSubmit,className:b.a.form},i.a.createElement(U.a,{component:w.b,validate:[M.b,H],name:"newPostText",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442",className:b.a.textarea}),i.a.createElement("div",{className:b.a.send},i.a.createElement("button",{className:b.a.submitButton},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))})),V=J,z=Object(m.b)((function(e){return{postsData:e.profilePage.postsData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){var a=Object(y.a)(t);e(a)}}}))(V),G=a(299),L=a.n(G),R=a(300),Z=a.n(R),q=a(301),K=a.n(q),X=a(302),W=a.n(X),Y=function(){return i.a.createElement("div",{className:L.a.cover},i.a.createElement("img",{className:L.a.pic,src:K.a,alt:"Cover"}),i.a.createElement("img",{className:L.a.pic,src:Z.a,alt:"Cover"}),i.a.createElement("img",{className:L.a.picabsolute,src:W.a,alt:"Cover"}))},$=function(e){var t=e.profile,a=e.status,r=e.updateStatus,n=e.isOwner,s=e.saveProfile,o=e.savePhoto;return i.a.createElement("div",{className:f.a.content},i.a.createElement(Y,null),i.a.createElement(x,{isOwner:n,profile:t,status:a,updateStatus:r,saveProfile:s,savePhoto:o}),i.a.createElement(z,null))},ee=a(291),te=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(n.a)(a,[{key:"refreshProfile",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return i.a.createElement($,Object.assign({},this.props,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto}))}}]),a}(i.a.Component);t.default=Object(l.d)(Object(m.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:y.d,getStatus:y.c,updateStatus:y.g,savePhoto:y.e,saveProfile:y.f}),u.f,ee.a)(te)}}]);
//# sourceMappingURL=3.e369bc64.chunk.js.map