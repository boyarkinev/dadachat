{"version":3,"sources":["api/api.js","components/Navbar/Navbar.module.css","utils/object-helpers.js","redux/users-reducer.js","components/Avatar/Avatar.module.css","components/Friends/FriendsList/FriendsList.module.css","components/commons/Preloader/Preloader.module.css","img/preloader.png","styles/reusable.module.css","components/commons/FormsControls/FormsControls.js","serviceWorker.js","components/Avatar/Avatar.jsx","components/Friends/FriendsList/Friend/Friend.jsx","components/Friends/FriendsList/FriendsList.jsx","components/Friends/Friends.jsx","components/Friends/FriendsContainer.jsx","components/Navbar/Navbar.jsx","components/News/News.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/app-reducer.js","hoc/withSuspense.js","redux/friends-reducer.js","redux/redux-store.js","App.js","index.js","components/Login/Login.module.css","components/Header/Header.module.css","components/commons/FormsControls/FormsControls.module.css","utils/validators/validators.js","components/Friends/Friends.module.css","components/Friends/FriendsList/Friend/Friend.module.css","components/commons/Preloader/Preloader.js","redux/profile-reducer.js","redux/dialogs-reducer.js"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","follow","id","post","unfollow","delete","getProfile","userId","console","log","profileAPI","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","module","exports","updateObjectInArray","items","itemId","objectPropName","newObjProps","map","user","initialState","users","totalItemsCount","isFetching","followingInProgress","followSuccess","type","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","requestUsers","page","dispatch","a","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","bind","usersReducer","state","action","followed","filter","FormControl","input","meta","touched","error","children","hasError","className","classes","formControl","Textarea","props","restProps","child","Input","createField","placeholder","name","validators","component","validate","Boolean","window","location","hostname","match","Avatar","src","avatar","alt","Friend","item","FriendsList","friendsElements","friendsList","friends","friend","i","key","list","Friends","friendsContainer","title","FriendsContainer","connect","Navbar","nav","to","activeClassName","active","selector","News","reusable","pageTitle","technicalInfo","Music","Settings","Header","header","isAuth","loginContainer","onClick","SET_USER_DATA","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","url","authReducer","HeaderContainer","this","React","Component","auth","LoginReduxForm","reduxForm","form","handleSubmit","onSubmit","loginItems","required","checkboxElems","checkboxDescription","styleError","formSummaryError","button","message","messages","length","stopSubmit","_error","initialized","appReducer","withSuspense","Suspense","fallback","friendsReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","usersPage","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","ProfileContainer","lazy","DialogsContainer","UsersContainer","App","initializeApp","path","render","Preloader","AppContainer","compose","withRouter","DadachatApp","basename","process","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","value","maxLengthCreator","maxLength","preloader","postsData","likesCounter","addPostActionCreator","newPostText","setStatus","getUserProfile","file","photos","getState","Promise","reject","newPost","messagesData","userName","date","sendMessageCreator","newMessageText","newMessage"],"mappings":"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","file":"static/js/main.0cdc1b98.chunk.js","sourcesContent":["import * as axios from 'axios';\n\n/*\nСоздали экземпляр класса axios и заносим в него параметры\nобращения к серверу.\n*/\n\nconst instance = axios.create({\n  withCredentials: true,\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n  headers: {\n    'API-KEY': '' // Взять отсюда https://social-network.samuraijs.com/ при регистрации \n  }\n})\n\nexport const usersAPI = {\n  getUsers (currentPage = 1, pageSize = 5) {\n    return instance\n      .get(`users?page=${currentPage}&count=${pageSize}`)\n      .then(response => response.data)\n  },\n  follow (id) {\n    return instance\n      .post(`follow/${id}`)\n      .then(response => response.data)\n  },\n  unfollow (id) {\n    return instance\n      .delete(`follow/${id}`)\n      .then(response => response.data)\n  },\n  getProfile(userId) {\n    console.log('Obsolete method. Please use profileApi object')\n    return profileAPI.getProfile(userId);\n  }\n}\n\nexport const profileAPI = {\n  getProfile(userId) {\n    return instance\n      .get(`profile/` + userId);\n  },\n  getStatus(userId) {\n    return instance\n      .get(`profile/status/` + userId);\n  },\n  updateStatus(status) {\n    return instance\n      .put(`profile/status`, {\n        status: status\n      });\n  },\n  savePhoto(photoFile) {\n    const formData = new FormData()\n    formData.append('image', photoFile)\n    return instance\n      .put(`profile/photo`, formData, {\n          headers: {\n            'Content-Type': 'multipart/form-data'\n          }\n      });\n  },\n  saveProfile(profile) {\n    return instance.put(`profile`, profile);\n  }\n}\n\nexport const authAPI = {\n  me () {\n    return instance\n      .get('auth/me')\n      .then(response => response.data)\n  },\n  login (email, password, rememberMe = false, captcha = null) {\n    return instance\n      .post('auth/login', { email, password, rememberMe, captcha })\n  },\n  logout () {\n    return instance\n      .delete('auth/login');\n  }\n}\n\nexport const securityAPI = {\n  getCaptchaUrl () {\n    return instance.get(`security/get-captcha-url`);\n  }\n}\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__2imOE\",\"items\":\"Navbar_items__2UnO7\",\"item\":\"Navbar_item__zmMk4\",\"active\":\"Navbar_active__3mbhk\",\"selector\":\"Navbar_selector__1pry5\"};","export const updateObjectInArray = (items, itemId, objectPropName, newObjProps) => {\n  \n  return items.map((user) => {\n    if (user[objectPropName] === itemId) {\n      return { ...user, ...newObjProps };\n    }\n    return user;\n  })\n}","import { usersAPI } from '../api/api';\nimport { updateObjectInArray } from '../utils/object-helpers';\nconst FOLLOW = 'FOLLOW';\nconst UNFOLLOW = 'UNFOLLOW';\nconst SET_USERS = 'SET-USERS';\nconst SET_CURRENT_PAGE = 'SET-CURRENT-PAGE';\nconst SET_USERS_TOTAL_COUNT = 'SET-USERS-TOTAL-COUNT';\nconst TOGGLE_IS_FETCHING = 'TOGGLE-IS-FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE-IS-FOLLOWING-PROGRESS';\n\nconst initialState = {\n  users: [],\n  pageSize: 10,\n  totalItemsCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  followingInProgress: [],\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: true})\n      };\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, 'id', {followed: false})\n      };\n    case SET_USERS: {\n      return { ...state, users: action.users };\n    }\n    case SET_CURRENT_PAGE: {\n      return { ...state, currentPage: action.currentPage }\n    }\n    case SET_USERS_TOTAL_COUNT: {\n      return { ...state, totalItemsCount: action.count }\n    }\n    case TOGGLE_IS_FETCHING: {\n      return { ...state, isFetching: action.isFetching }\n    }\n    case TOGGLE_IS_FOLLOWING_PROGRESS: {\n      return {\n        ...state,\n        followingInProgress: action.isFetching\n        ? [...state.followingInProgress, action.userId]\n        : state.followingInProgress.filter(id => id !== action.userId)\n      }\n    }\n    default:\n      return state;\n  }\n};\n\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId });\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId });\nexport const setUsers = (users) => ({ type: SET_USERS, users });\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage });\nexport const setUsersTotalCount = (usersTotalCount) => ({ type: SET_USERS_TOTAL_COUNT, count: usersTotalCount });\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching });\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId });\n\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\n  dispatch(toggleIsFetching(true));\n  dispatch(setCurrentPage(page));\n  const data = await usersAPI.getUsers(page, pageSize);\n  dispatch(toggleIsFetching(false));\n  dispatch(setUsers(data.items));\n  dispatch(setUsersTotalCount(data.totalCount));\n};\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n  dispatch(toggleFollowingProgress(true, userId));\n  const data = await apiMethod(userId);\n  if (data.resultCode === 0) {\n    dispatch(actionCreator(userId));\n  }\n  dispatch(toggleFollowingProgress(false, userId));\n}\n\nexport const follow = (userId) => async (dispatch) => {\n  followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\n};\n\nexport const unfollow = (userId) => async (dispatch) => {\n  followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\n};\n\n\nexport default usersReducer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Avatar_avatar__2A8Ju\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"FriendsList_list__2yjMA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__2a0qc\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.763f39e5.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pageTitle\":\"reusable_pageTitle__2otQM\",\"submitButton\":\"reusable_submitButton__2nWGa\",\"form\":\"reusable_form__2cr6E\",\"send\":\"reusable_send__ctOCa\",\"textarea\":\"reusable_textarea__3L3PZ\",\"input\":\"reusable_input__1ht7b\",\"technicalInfo\":\"reusable_technicalInfo__3saox\"};","import classes from './FormsControls.module.css';\n\nimport React from 'react';\nimport { Field } from 'redux-form';\n\nconst FormControl = ({input, meta: {touched, error}, children}) => {\n\n  const hasError = touched && error;\n\n  return (\n    <div className={classes.formControl + ' ' + (hasError ? classes.error : '')}>\n      <div>\n        {children}\n      </div>\n        {hasError && <span>{error}</span>}\n    </div>\n  )\n}\n\nexport const Textarea = (props) => {\n  const {input, meta, child, ...restProps} = props;\n  return <FormControl {...props} ><textarea {...input} {...restProps} /></FormControl>\n}\n\nexport const Input = (props) => {\n  const {input, meta, child, ...restProps} = props;\n  return <FormControl {...props} ><input {...input} {...restProps} /></FormControl>\n}\n\nexport const createField = (placeholder, name, validators, component, className, props) =>\n  (<Field placeholder={placeholder} name={name} validate={validators} component={component} className={className} {...props}/>)","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport classes from './Avatar.module.css';\n\nconst Avatar = (props) => {\n  return (\n    <div>\n      <img src={props.avatar} alt=\"User Avatar\" className={classes.avatar}/>\n    </div>\n  );\n};\n\nexport default Avatar;\n","import React from 'react';\nimport Avatar from '../../../Avatar/Avatar';\nimport classes from './Friend.module.css';\n\nconst Friend = (props) => {\n  return (\n    <div className={classes.item}>\n      <Avatar avatar={props.avatar} />\n      <p className={classes.name}>{props.name}</p>\n    </div>\n  );\n};\n\nexport default Friend;\n","import React from 'react';\nimport Friend from './Friend/Friend';\nimport classes from './FriendsList.module.css';\n\nconst FriendsList = (props) => {\n  \n  const friendsElements = props.friendsList.friends.map((friend, i) => (\n    <Friend name={friend.name} avatar={friend.avatar} key={i} />\n  ));\n\n  return <div className={classes.list}>{friendsElements}</div>;\n};\n\nexport default FriendsList;\n","import classes from './Friends.module.css';\n\nimport React from 'react';\n\nimport FriendsList from './FriendsList/FriendsList';\n\nconst Friends = (props) => {\n  return (\n    <div className={classes.friendsContainer}>\n      <h3 className={classes.title}>Друзья</h3>\n      <FriendsList friendsList={props.friendsList} />\n    </div>\n  );\n};\n\nexport default Friends;\n","import { connect } from 'react-redux';\nimport Friends from './Friends';\n\nconst mapStateToProps = (state) => {\n  return {\n    friendsList: state.friendsList\n  }\n}\n\nconst FriendsContainer = connect(mapStateToProps)(Friends)\n\nexport default FriendsContainer;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport FriendsContainer from '../Friends/FriendsContainer';\nimport classes from './Navbar.module.css';\n\nconst Navbar = (props) => {\n  return (\n    <nav className={classes.nav}>\n      <ul className={classes.items}>\n        <li className={classes.item}>\n          <NavLink\n            to='/profile'\n            className='app-link app-link_light'\n            activeClassName={classes.active}>\n            Профиль\n          </NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink\n            to='/dialogs'\n            className='app-link app-link_light'\n            activeClassName={classes.active}>\n            Диалоги\n          </NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink\n            to='/users'\n            className='app-link app-link_light'\n            activeClassName={classes.active}>\n            Найти друзей\n          </NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink\n            to='/news'\n            className='app-link app-link_light'\n            activeClassName={classes.active}>\n            Новости\n          </NavLink>\n        </li>\n        <li className={classes.item}>\n          <NavLink\n            to='/music'\n            className='app-link app-link_light'\n            activeClassName={classes.active}>\n            Музыка\n          </NavLink>\n        </li>\n        <hr className={classes.selector} />\n        <li className={classes.item}>\n          <NavLink\n            to='settings'\n            className='app-link app-link_light'\n            activeClassName={classes.active}>\n            Настройки\n          </NavLink>\n        </li>\n        <hr className={classes.selector} />\n      </ul>\n      <FriendsContainer />\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import reusable from '../../styles/reusable.module.css';\n\nimport React from 'react';\n\nconst News = () => {\n  return (\n    <div>\n      <h2 className={reusable.pageTitle}>Мои новости</h2>\n      <p className={reusable.technicalInfo}>[ Страница в разработке ]</p>\n    </div>\n  )\n};\n\nexport default News;\n","import reusable from '../../styles/reusable.module.css';\n\nimport React from 'react';\n\nconst Music = () => {\n  return (\n    <div>\n      <h2 className={reusable.pageTitle}>Мой плэйлист</h2>\n      <p className={reusable.technicalInfo}>[ Страница в разработке ]</p>\n    </div>\n  )\n};\n\nexport default Music;\n","import reusable from '../../styles/reusable.module.css';\n\nimport React from 'react';\n\nconst Settings = () => {\n  return (\n    <div>\n      <h2 className={reusable.pageTitle}>Мои настройки</h2>\n      <p className={reusable.technicalInfo}>[ Страница в разработке ]</p>\n    </div>\n  ) \n};\n\nexport default Settings;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport classes from './Header.module.css';\n\nconst Header = (props) => {\n  return (\n    <header className={classes.header}>\n      <h1 className={classes.title}>DadaChat</h1>\n      <div className={classes.login}>\n        { props.isAuth \n          ? <div className={classes.loginContainer}>\n              <div>{props.login}</div>\n              <button onClick={props.logout} className={classes.logout}>Выйти</button>\n            </div>\n          : <NavLink to={'/login'}>Войти</NavLink> }\n      </div>\n    </header>\n  );\n};\n\nexport default Header;\n","import { authAPI, securityAPI } from '../api/api';\nimport { stopSubmit } from 'redux-form';\n\nconst SET_USER_DATA = 'dadachat/auth/SET-USER-DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'dadachat/auth/GET-CAPTCHA-URL-SUCCESS';\n/* Дописали к переменной префикс \"dadachat/auth/\",\nчтобы избежать конфликта при создании такой же\nпеременной в другом месте. Префикс добавляет уникальность */\n\n\nconst initialState = {\n  id: null,\n  email: null,\n  login: null,\n  isAuth: false,\n  captchaUrl: null // Если null, значит капча необязательна\n};\n\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n      case GET_CAPTCHA_URL_SUCCESS:\n      return {\n        ...state,\n        ...action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\n  type: SET_USER_DATA,\n  payload: { userId, email, login, isAuth },\n});\n\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\n  type: GET_CAPTCHA_URL_SUCCESS,\n  payload: { captchaUrl },\n});\n\nexport const getAuthUserData = () => async (dispatch) => {\n  const response = await authAPI.me();\n  if (response.resultCode === 0) {\n    let { id, login, email } = response.data;\n    dispatch(setAuthUserData(id, email, login, true));\n  }\n};\n\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\n  const response = await authAPI.login(email, password, rememberMe, captcha);\n  if (response.data.resultCode === 0) {\n    // success, get auth data\n    dispatch(getAuthUserData());\n  } else {\n    if (response.data.resultCode === 10) {\n      dispatch(getCaptchaUrl());\n    }\n    const message =\n      response.data.messages.length > 0\n        ? response.data.messages[0]\n        : 'Ошибка ввода';\n    dispatch(stopSubmit('login', { _error: message }));\n  }\n};\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n  const response = await securityAPI.getCaptchaUrl();\n  const captchaUrl = response.data.url\n\n  dispatch(getCaptchaUrlSuccess(captchaUrl));\n};\n\nexport const logout = () => async (dispatch) => {\n  const response = await authAPI.logout();\n  if (response.data.resultCode === 0) {\n    dispatch(setAuthUserData(null, null, null, false));\n  }\n};\n\nexport default authReducer;\n","import React from 'react';\nimport Header from './Header';\nimport { connect } from 'react-redux';\nimport { logout } from '../../redux/auth-reducer';\n\nclass HeaderContainer extends React.Component {\n\n  render() {\n    return <Header {...this.props} />;\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login,\n});\n\nexport default connect(mapStateToProps, { logout })(HeaderContainer);\n","import styleError from '../commons/FormsControls/FormsControls.module.css';\nimport classes from './Login.module.css'\n\nimport React from 'react';\nimport { reduxForm } from 'redux-form';\nimport { Redirect } from 'react-router-dom';\n\nimport { Input, createField } from '../commons/FormsControls/FormsControls';\nimport { required } from '../../utils/validators/validators';\nimport { connect } from 'react-redux';\nimport { login } from '../../redux/auth-reducer';\n\n\n// Создаем собственную форму\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\n\n  return (\n    <form onSubmit={handleSubmit} className={classes.loginItems}>\n      <div>\n        {createField('Е-мэйл', 'email', [required], Input, classes.input)}\n      </div>\n      <div>\n        {createField('Пароль', 'password', [required], Input, classes.input, {type: 'password'})}\n      </div>\n      <div className={classes.checkboxElems}>\n        {createField(null, 'rememberMe', null, Input, null, {type: 'checkbox'})}\n        <div className={classes.checkboxDescription}>\n          {' '} Запомнить меня\n        </div>\n      </div>\n\n      { captchaUrl && <img src={captchaUrl} alt=\"\" /> }\n      { captchaUrl && createField('Введите код', 'captcha', [required], Input, null, {})}\n\n      {error &&\n        <div className={styleError.formSummaryError}>\n          {error}\n        </div>\n      }\n      <div>\n        <button className={classes.button}>Войти</button>\n      </div>\n    </form>\n  );\n};\n\n// Создали хок из redux-библиотеки, в который передаем нашу форму\nconst LoginReduxForm = reduxForm({\n  form: 'login',\n  /* В сторе может быть много разных форм, поэтому нужно задать уникальное имя\n  Здесь ключ form не связан c одноименным ключом в сторе\n  */\n})(LoginForm);\n\nconst Login = (props) => {\n  const onSubmit = (formData) => {\n    props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\n  };\n\n  if (props.isAuth) {\n    return <Redirect to={'/profile'} />\n  }\n\n  return (\n    <div>\n      <h1 className={classes.title}>Войти</h1>\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => ({\n  captchaUrl: state.auth.captchaUrl,\n  isAuth: state.auth.isAuth\n})\n\n/* Для начала создали компоненту прямо в файле разметки.\nТак можно делать, когда кода немного и он не загромождает приложение.\n*/\nexport default connect(mapStateToProps, {login})(Login);\n\n/* Цепочка:\n  1. LoginReduxForm закинет в форму Login событие handleSubmit\n  2. handleSubmit вызовется во время события\n  3. Внутри handleSubmit вызовется то, что передано в LoginReduxForm\n  4. В onSubmit-метод придут данные, собранные контейнерной компонентой LoginReduxForm\n*/\n","import { getAuthUserData } from '../redux/auth-reducer';\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED-SUCCESS';\n\nconst initialState = {\n  initialized: false,\n};\n\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESS:\n      return {\n        ...state,\n        initialized: true,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const initializedSuccess = () => ({ type: INITIALIZED_SUCCESS });\n\nexport const initializeApp = () => (dispatch) => {\n\n  const promise = dispatch(getAuthUserData());\n  promise.then(() => {\n    dispatch(initializedSuccess());\n  });\n};\n\nexport default appReducer;\n","import React from 'react';\n\nexport const withSuspense = (Component) => {\n\n  return (props) => {\n    return (\n      <React.Suspense fallback={'Loading...'}>\n        <Component {...props} />\n      </React.Suspense>\n    )\n  }\n};\n","const initialState = {\n  friends: [\n    {\n      id: 1,\n      name: 'Имя Фамилия',\n      avatar:\n        'https://cdn.pixabay.com/photo/2017/07/18/23/23/user-2517433_960_720.png',\n    },\n    {\n      id: 1,\n      name: 'Имя Фамилия',\n      avatar:\n        'https://cdn.pixabay.com/photo/2017/07/18/23/23/user-2517433_960_720.png',\n    },\n    {\n      id: 1,\n      name: 'Имя Фамилия',\n      avatar:\n        'https://cdn.pixabay.com/photo/2017/07/18/23/23/user-2517433_960_720.png',\n    },\n    {\n      id: 1,\n      name: 'Имя Фамилия',\n      avatar:\n        'https://cdn.pixabay.com/photo/2017/07/18/23/23/user-2517433_960_720.png',\n    },\n    {\n      id: 1,\n      name: 'Имя Фамилия',\n      avatar:\n        'https://cdn.pixabay.com/photo/2017/07/18/23/23/user-2517433_960_720.png',\n    },\n  ],\n};\n\nconst friendsReducer = (state = initialState, action) => {\n  return state;\n};\n\nexport default friendsReducer;\n","import { createStore, combineReducers, applyMiddleware } from 'redux';\nimport profileReducer from './profile-reducer';\nimport dialogsReducer from './dialogs-reducer';\nimport friendsReducer from './friends-reducer';\nimport usersReducer from './users-reducer';\nimport authReducer from './auth-reducer';\nimport thunkMiddleware from 'redux-thunk';\nimport { reducer as formReducer } from 'redux-form';\nimport appReducer from './app-reducer';\n\n\nconst reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  friendsList: friendsReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  form: formReducer, // Взят из библиотеки redux-form\n  app: appReducer,\n});\n\nconst store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\nwindow.store = store;\n\nexport default store;","import './index.css';\nimport React, { Component } from 'react';\nimport { Route, withRouter, HashRouter, Redirect } from 'react-router-dom';\nimport { connect, Provider } from 'react-redux';\nimport { compose } from 'redux';\n\nimport Navbar from './components/Navbar/Navbar';\nimport News from './components/News/News';\nimport Music from './components/Music/Music';\nimport Settings from './components/Settings/Settings';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport LoginPage from './components/Login/Login';\nimport Preloader from './components/commons/Preloader/Preloader';\nimport { initializeApp } from './redux/app-reducer';\nimport { withSuspense } from './hoc/withSuspense';\nimport store from './redux/redux-store';\n\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst UsersContainer = React.lazy(() => import('./components/Users/UsersContainer'));\n\nclass App extends Component {\n\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n\n    if(!this.props.initialized) {\n      return (\n        <div className='preloaderContainer'>\n          <Preloader />\n        </div>\n      )\n    }\n\n    return (\n      <div className='app-wrapper'>\n        <HeaderContainer />\n        <Navbar />\n  \n        <div className='app-wrapper-content'>\n          <Route path='/' render={() => <Redirect to={'/profile'} />} />\n\n          <Route path='/profile/:userId?' render={withSuspense(ProfileContainer)} />\n\n          <Route path='/dialogs' render={withSuspense(DialogsContainer)} />\n\n          <Route path='/users' render={withSuspense(UsersContainer)}/>\n\n          <Route path='/news' component={News} />\n\n          <Route path='/music' component={Music} />\n\n          <Route path='/settings' component={Settings} />\n\n          <Route path='/login' render={() => <LoginPage />}/>\n        </div>\n      </div>\n    );\n  }\n};\n\nconst mapStateToProps = (state) => ({\n  initialized: state.app.initialized\n})\n\nconst AppContainer = compose(\n  withRouter,\n  connect(mapStateToProps, {initializeApp})\n)(App);\n\n\nconst DadachatApp = (props) => {\n  return (\n    <HashRouter basename={process.env.PUBLIC_URL}>\n      <Provider store={store}>\n        <AppContainer />\n      </Provider>\n    </HashRouter>\n  )\n}\n\nexport default DadachatApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport * as serviceWorker from './serviceWorker';\nimport DadachatApp from './App';\n\nReactDOM.render(\n  <DadachatApp />,document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Login_title__bh47u\",\"loginItems\":\"Login_loginItems__2DYve\",\"input\":\"Login_input__1zhXD\",\"checkboxElems\":\"Login_checkboxElems__HtVJE\",\"checkboxDescription\":\"Login_checkboxDescription__JQQwW\",\"button\":\"Login_button__3J267\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"title\":\"Header_title__3SH2Q\",\"login\":\"Header_login__3V3Qa\",\"logout\":\"Header_logout__1UGPC\",\"loginContainer\":\"Header_loginContainer__ypDI_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__2e6D5\",\"error\":\"FormsControls_error__3xLcw\",\"formSummaryError\":\"FormsControls_formSummaryError__8DCJw\",\"input\":\"FormsControls_input__3b5RD\",\"submitButton\":\"FormsControls_submitButton__3FF6k\"};","export const required = value => {\n  if (value) return undefined;\n  return \"Это обязательное поле\";\n}\n\nexport const maxLengthCreator = (maxLength) => (value) => {\n  if (value.length > maxLength) return `Максимальная длинна ${maxLength} символов`;\n  return undefined;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friendsContainer\":\"Friends_friendsContainer__1m71d\",\"title\":\"Friends_title__1Uj-o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Friend_item__jWrp4\",\"name\":\"Friend_name__3LQfr\",\"avatar\":\"Friend_avatar__8SOSB\"};","import classes from './Preloader.module.css'\nimport preloader from './../../../img/preloader.png';\n\nimport React from 'react'\n\nconst Preloader = () => {\n  return (\n    <div className={classes.preloader}>\n      <img src={preloader} alt='Preloader' />\n    </div>\n  );\n};\n\nexport default Preloader;\n","import { usersAPI, profileAPI } from '../api/api';\nimport { stopSubmit } from 'redux-form';\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET-USER-PROFILE';\nconst SET_STATUS = 'SET-STATUS';\nconst SAVE_PHOTO_SUCCESS = 'SAVE-PHOTO-SUCCESS'\n\nconst initialState = {\n  postsData: [\n    { id: 1, message: 'Привет. Как дела?', likesCounter: 3 },\n    { id: 2, message: 'Это мой первый пост!', likesCounter: 5 },\n    { id: 3, message: 'Меня не остановить :)', likesCounter: 4 },\n  ],\n  profile: null,\n  status: ''\n}\n\nconst profileReducer = (state = initialState, action) => {\n  switch(action.type) {\n    case ADD_POST: {\n      const newPost = {\n        id: 10,\n        message: action.newPostText,\n        likesCounter: 0,\n      }\n      return {\n        ...state,\n        postsData: [...state.postsData, newPost],\n        newPostText: '',\n      }\n    }\n    case SET_STATUS: {\n      return { ...state, status: action.status }\n    }\n    case SET_USER_PROFILE: {\n      return { ...state, profile: action.profile }\n    }\n    case SAVE_PHOTO_SUCCESS: {\n      return { ...state, profile: {...state.profile, photos: action.photos} }\n    }\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST, newPostText })\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile })\nexport const setStatus = (status) => ({type: SET_STATUS, status })\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos })\n\nexport const getUserProfile = (userId) => async (dispatch) => {\n  const response = await usersAPI.getProfile(userId);\n  dispatch(setUserProfile(response.data));\n};\n\nexport const getStatus = (userId) => async (dispatch) => {\n  const response = await profileAPI.getStatus(userId);\n  dispatch(setStatus(response.data));\n};\n\nexport const updateStatus = (status) => async (dispatch) => {\n  const response = await profileAPI.updateStatus(status);\n  if (response.data.resultCode === 0) {\n    dispatch(setStatus(status));\n  }\n};\n\nexport const savePhoto = (file) => async (dispatch) => {\n  const response = await profileAPI.savePhoto(file);\n  if (response.data.resultCode === 0) {\n    dispatch(savePhotoSuccess(response.data.data.photos));\n  }\n};\n\nexport const saveProfile = (profile) => async (dispatch, getState) => {\n  \n  // Не запрещено в рамках одного редьюсера обращаться к другому\n  const userId = getState().auth.userId;\n\n  const response = await profileAPI.saveProfile(profile);\n  \n  if (response.data.resultCode === 0) {\n    dispatch(getUserProfile(userId));\n  } else {\n    console.log(response.data.messages[0])\n    dispatch(stopSubmit('edit-profile', { _error: response.data.messages[0] }));\n    return Promise.reject(response.data.messages[0])\n  }\n};\n\nexport default profileReducer;\n","const ADD_MESSAGE = 'ADD-MESSAGE';\n\nconst initialState = {\n  users: [\n    { id: 1, name: 'Имя Фамилия' },\n    { id: 2, name: 'Имя Фамилия' },\n    { id: 3, name: 'Имя Фамилия' },\n    { id: 4, name: 'Имя Фамилия' },\n  ],\n  messagesData: [\n    {\n      id: 1,\n      avatar:\n        'https://cdn.pixabay.com/photo/2017/07/18/23/23/user-2517433_960_720.png',\n      userName: 'Имя Фамилия',\n      date: '2020-09-15',\n      message:\n        'Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias sed rerum dolore corrupti quo recusandae dolor quia ratione iure saepe, et, inventore blanditiis neque veritatis architecto dignissimos omnis quibusdam laudantium!',\n    },\n    {\n      id: 2,\n      avatar:\n        'https://cdn.pixabay.com/photo/2017/07/18/23/23/user-2517433_960_720.png',\n      userName: 'Имя Фамилия',\n      date: '2020-09-15',\n      message:\n        'Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias sed rerum dolore corrupti quo recusandae dolor quia ratione iure saepe, et, inventore blanditiis neque veritatis architecto dignissimos omnis quibusdam laudantium!',\n    },\n    {\n      id: 3,\n      avatar:\n        'https://cdn.pixabay.com/photo/2017/07/18/23/23/user-2517433_960_720.png',\n      userName: 'Имя Фамилия',\n      date: '2020-09-15',\n      message:\n        'Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias sed rerum dolore corrupti quo recusandae dolor quia ratione iure saepe, et, inventore blanditiis neque veritatis architecto dignissimos omnis quibusdam laudantium!',\n    },\n    {\n      id: 4,\n      avatar:\n        'https://cdn.pixabay.com/photo/2017/07/18/23/23/user-2517433_960_720.png',\n      userName: 'Имя Фамилия',\n      date: '2020-09-15',\n      message:\n        'Lorem ipsum dolor sit amet consectetur adipisicing elit. Alias sed rerum dolore corrupti quo recusandae dolor quia ratione iure saepe, et, inventore blanditiis neque veritatis architecto dignissimos omnis quibusdam laudantium!',\n    },\n  ],\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_MESSAGE: {\n      const newMessage = {\n        id: 10,\n        avatar:\n          'https://cdn.pixabay.com/photo/2017/07/18/23/23/user-2517433_960_720.png',\n        userName: 'Имя',\n        date: '2020-09-15',\n        message: action.newMessageText,\n      };\n      return {\n        //создали и возвращаем объект с новыми данными\n        ...state, // создали копию state\n        messagesData: [...state.messagesData, newMessage], // закинули новые данные в элемент\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nexport const sendMessageCreator = (newMessageText) => {\n  return {\n    type: ADD_MESSAGE, newMessageText\n  };\n};\n\nexport default dialogsReducer;\n"],"sourceRoot":""}